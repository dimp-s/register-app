<div class="container mt-4">
  <h2 class="mb-4">Available Courses</h2>

  @if (loading()) {
  <div class="text-center my-4">
    <mat-progress-spinner
      mode="indeterminate"
      color="primary"
    ></mat-progress-spinner>
  </div>
  } @else {
  <div class="row g-4">
    @for (course of courses(); track course.courseId) {
    <div class="col-md-6 col-lg-4">
      <mat-card
        class="h-100 shadow-sm hover-card"
        (click)="openCourseDialog(course)"
        style="cursor: pointer"
        matTooltip="Click to view details"
      >
        <mat-card-header>
          <div class="d-flex justify-content-between align-items-center w-100">
            <span class="h5 mb-0">{{ course.courseName }}</span>

            <span
              *ngIf="course.isEnrolled"
              class="badge text-bg-success fs-6 px-3 py-2"
              style="font-weight: 600"
            >
              Enrolled
            </span>
          </div>
        </mat-card-header>
        <div class="text-center p-2">
          <img
            mat-card-image
            [src]="courseImgUrl"
            alt="Course Image"
            class="img-fluid w-75"
            matTooltip="Course preview"
          />
        </div>
        <mat-card-content>
          <p>Credit Hours: {{ course.creditHours }}</p>
          <p *ngIf="course.isEnrolled" class="text-success fw-bold">
            You are already enrolled in this course.
          </p>
        </mat-card-content>
      </mat-card>
    </div>
    }
  </div>
  }
</div>
